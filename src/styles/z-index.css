
/* Z-index management */
.dropdown-content {
  z-index: 99950 !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25) !important;
  background-color: #FFFFFF !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: 12px !important;
  opacity: 1 !important;
}

.dialog-content {
  max-width: 90vw !important;
  max-height: 85vh !important;
  overflow-y: auto !important;
  z-index: 99960 !important;
  background-color: #FFFFFF !important;
  border-radius: var(--radius);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  opacity: 1 !important;
}

.popover-content {
  z-index: 99950 !important;
  background-color: #FFFFFF !important;
  border: 1px solid hsl(var(--border)) !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25) !important;
  border-radius: 12px !important;
  opacity: 1 !important;
}

.toast-viewport {
  z-index: 99970 !important;
}

.custom-tooltip {
  z-index: 99960 !important;
}

/* General z-index hierarchy */
.modal, .dialog, .popover {
  z-index: 99950 !important;
  background-color: #FFFFFF !important;
  opacity: 1 !important;
}

.toast {
  z-index: 99970 !important;
}

.tooltip {
  z-index: 99980 !important;
}

/* Fix for all radix dialog portals */
[data-radix-portal] {
  z-index: 99990 !important;
}

[data-radix-portal] > * {
  background-color: transparent !important;
}

[data-radix-portal] > * > * {
  background-color: #FFFFFF !important;
  border: 1px solid hsl(var(--border)) !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25) !important;
  border-radius: 12px !important;
  opacity: 1 !important;
}

/* Specific z-index fixes for select and dropdown components */
[role="listbox"],
[role="menu"] {
  z-index: 99999 !important;
  background-color: #FFFFFF !important;
  opacity: 1 !important;
}

/* Calendar popup specific */
.rdp {
  z-index: 99999 !important;
  background-color: #FFFFFF !important;
  opacity: 1 !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: 12px !important;
}

/* Calendar and month selection dropdown */
.rdp-months,
.rdp-month,
.rdp-table,
.rdp-tbody,
.rdp-tfoot {
  background-color: #FFFFFF !important;
  border-radius: 12px !important;
  opacity: 1 !important;
}

/* Calendar day cells */
.rdp-cell, 
.rdp-head_cell, 
.rdp-day {
  background-color: transparent !important;
}

/* Ensure modals are visible in mobile */
@media (max-width: 640px) {
  [data-radix-portal] {
    z-index: 99999 !important;
  }
}

/* Force solid backgrounds on all portals */
[data-radix-portal] [role="dialog"],
[data-radix-portal] [role="menu"],
[data-radix-portal] [role="listbox"],
[data-radix-portal] .calendar-content,
[data-radix-portal] .select-content,
[data-radix-portal] .popover-content {
  background-color: #FFFFFF !important;
  backdrop-filter: none !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: 12px !important;
  opacity: 1 !important;
}

/* Dark mode solid backgrounds */
.dark [data-radix-portal] [role="dialog"],
.dark [data-radix-portal] [role="menu"],
.dark [data-radix-portal] [role="listbox"],
.dark [data-radix-portal] .calendar-content,
.dark [data-radix-portal] .select-content,
.dark [data-radix-portal] .popover-content {
  background-color: hsl(var(--background)) !important;
}

/* Explicit styles for date picker and calendar selectors */
[data-radix-popper-content=""] {
  background-color: #FFFFFF !important;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25) !important;
  border: 1px solid hsl(var(--border)) !important;
  border-radius: 12px !important;
  opacity: 1 !important;
  z-index: 99999 !important;
}

.dark [data-radix-popper-content=""] {
  background-color: hsl(var(--background)) !important;
}

/* Time selectors */
input[type="time"] {
  background-color: #FFFFFF !important;
  border: 1px solid hsl(var(--border)) !important;
}

.dark input[type="time"] {
  background-color: hsl(var(--background)) !important;
}

/* Month/year navigation in calendars */
.rdp-nav,
.rdp-caption {
  background-color: #FFFFFF !important;
  opacity: 1 !important;
}

.dark .rdp-nav,
.dark .rdp-caption {
  background-color: hsl(var(--background)) !important;
}

/* Calendar footer styles */
.rdp-nav,
.rdp-footer {
  background-color: #FFFFFF !important;
  opacity: 1 !important;
  display: flex;
  justify-content: space-between;
  padding-top: 8px;
  margin-top: 8px;
}

.dark .rdp-footer {
  background-color: hsl(var(--background)) !important;
}

.rdp-button_reset {
  font-size: 14px;
  color: hsl(var(--primary));
}

.rdp-button_reset:hover {
  text-decoration: underline;
  background: transparent;
}
